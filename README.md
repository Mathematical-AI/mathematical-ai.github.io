# Mathematical AI Group site

This is the source for the [Mathematical AI Group](https://mathematical-ai.org) website.

The website is published using [Github Pages](https://docs.github.com/en/pages), which uses [Jekyll](https://jekyllrb.com/) to convert this source into the webpages you see presented as the website.
Here is some information on how to do things; it isn't all entirely obvious, though, so if you have any trouble, please just ask for help!

## Personal pages

Individuals can create personal profile pages by adding a `your-name.md` file to the `_people` folder. This can be written in standard markdown format, but with a few extra points to bear in mind. It is probably easiest to copy an existing page and just change the information to your own!

### Header metadata
The file must start with a 'header' section which starts and finishes with three dashes (`---`) and which looks like:
```yaml
---
name: <Your Name>
publication-name: <See the 'Publications' section>
institute: <Your university name>
position: <You job title>
position-tag: <One of: professor, reader, lecturer, postdoc, phd-student, other>
image: <name of image file in `assets/images/people/`>
homepage: <the web address of your (external) home page>
---
```
This information is used to generate some basic information at the top of your page, and to automatically link different parts of the site to your page correctly.

### Page body

After the header section, you are free to write your markdown file as you see fit. 

There are many things which can be put on the page, including embedded YouTube videos, images, and mathematics in LaTeX format.

You can include images by placing the image in the folder `assets/images/<your name>/` and including it into the page with the code:
```
![ <alt text> ]({{ site.imagedir | append: '<your name>/<image file name>' | relative_url }})
```
where you should replace `<alt text>` with a few words describing your image, `<your name>` with your name (without spaces, ideally), and `<image file name>` with the filename for the image you have uploaded.


### Personal publications list

A list of publications for an individual can by automatically generated by including the command
```
{% include publication_list.html author=page.publication-name %}
```
into the page.
This will extract citations from the publications database where the author matches the `publication-name` in your page header, and automatically format them for you.
For further information, see the [Publications](#publications) section below.


### Advanced users
Advanced users who feel overly constrained by the markdown format can instead write pages directly in HTML/CSS and even include JavaScript if they want to. 

To do this, start by creating a file as above, with the same 'header' section enclosed by three dashes (`---`).
Then, beneath this section, just write the HTML you want and it will be automatically incorporated into the page.

If you require multiple sub-pages which can be linked between, please ask for help.


## Blog posts

Blog posts are written in markdown format, the files for which are stored in the `_posts` folder.

These files need to have a special 'header' section which contains metadata (starting and ending with three dashes `---`) used in building the website, in the following format:
```yaml
---
layout: authored_post
title: <your post title>
date: <date of post in the format 2023-03-25 07:46:38 +0000>
categories: <names of a couple of fairly generic categories your post falls into>
authors:
  - <author 1 name>
  - <author 2 name>
  - ...
  - <author n name>
---
```
The title and date need to match up with the filename, which should be of the format:
```
YYYY-MM-DD-your-title-written-like-this.md
```
The title information you put into the header will be the title used for the page and used for the blog listing.
If the author name matches up with the `name` attribute in the header of a [personal page](#personal-pages), then this author name will be converted into a link to this person's page automatically.



Posts may include mathematics using latex format within `$...$` tags or 
```
$$
...
$$
```
or
```
\begin{align*}
...
\end{align*}
```
environments.

Images (including animated gifs and videos) need to be placed in the folder `assets/images/blog/<your post name>/` and linked into the blog post using the command
```
![ <alt text> ]({{ site.imagedir | append: '<your post name>/<image file name>' | relative_url }})
```
where you should replace `<alt text>` with a few words describing your image, `<your post name>` with a name identifying your blog post (without spaces, ideally), and `<image file name>` with the filename for the image you have uploaded.

Perhaps the easiest way to write blog posts is to write it as a Jupyter notebook, run the notebook all the way through, then export it to markdown using the `nbconvert` utility which is a part of Jupyter.

If in doubt about or struggling with any of this, get in touch!


## Publications

Information about individual publications is stored in the `data/publications.yml` file, in a Bibtex-like YAML format. This data can be extracted from an existing Bibtex record automatically using the `tools/parse_bibtex.py` Python script (see the [script documentation](tools/README.md) for further details on how to use this).

The data stored in this publications file is used to automatically generate lists of publications throughout the website. For example, to generate a list of publications where the author is "J. Bloggs", you should include the code
```liquid
{%- include publication_list.html author='J. Bloggs' -%}
```
Then, when the website is built by Jekyll, this will call the script in `_includes/publication_list.html` to automatically find the publications one of the authors matches `J. Bloggs`, and format the data into a publication list.

Publication lists can also be generated for sets of publications of specific types (journal articles, conference proceedings...) by using the code
```
{%- include publication_list.html type='journal' -%}
```

Similarly, citations for individual publications can be inserted using the (unique) citekey associated with each publication in the database.
To cite an article with citekey `bloggs2023`, insert the code
```liquid
{%- include citation_markdown.html citekey='bloggs2023' -%}
```
and the formatted citation will be automatically inserted.

### Data format
Publications in the database should be formatted in the following way:
```YAML
- citekey: <something unique>
  authors:
    - <author 1 name>
    - <author 2 name>
    - ...
    - <author n name>
  year: <year of publication, as a single integer>
  title: <the title of the publication>
  link: <the web link to the publication>
  venue: <where it was published; journal name, conference name, arXiv>
  extra: <optional> <extra information about where it was published; volume(issue), pages; arXiv identifier; ...>
  notes: <optional> <extra information>
  type: <one of 'preprint', 'journal', 'proceedings', 'book'>
```
Any fields which contain a colon (`:`) character need to be placed in quotes (`"..."`).

Please make sure citekeys are unique and human-friendly! For example, you can generate a (probably unique) citekey as
```
<first author name><year>-<title word 1>-<title word 2>-<title word 3>
```
and if this isn't unique, just add another word or a number on the end.

If the author names match the `publication-name` included in the header section of a [personal page](#personal-pages), then when this reference is automatically formatted, a link will be included to this person's page.


## Previewing the website on your own computer

Sometimes when modifying things it is nice to have a local version of the website which can be quickly updated without publishing changes and waiting for Github to process them.
This can be done by installing [Jekyll](https://jekyllrb.com/) locally, using the [Github Pages documentation](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/testing-your-github-pages-site-locally-with-jekyll).
Once Jekyll is installed, clone the git repository.
In the terminal, enter the directory containing the README.md file and run the command
```bash
bundle install
```
to install the required modules.

Then, you can run
```bash
bundle exec jekyll serve --livereload --trace
```
to start serving the website locally (accessible only on your machine), and click the link it gives you.
This version of the website should automatically update as you edit pages (with the exception of the `_config.yml` page; if you edit this you need to stop and restart the `serve` command above).

## Troubleshooting

If you're having trouble, please get in touch!


